(this["webpackJsonpreminder-app"]=this["webpackJsonpreminder-app"]||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),a=n(13),c=n.n(a),s=(n(22),n(14)),m=n(15),d=n(17),u=n(16),o=n(3),l=n.n(o),h="/api/reminders",j=function(){return l.a.get(h).then((function(e){return e.data}))},b=function(e){return l.a.post(h,e).then((function(e){return e.data}))},f=function(e){return l.a.delete("".concat(h,"/").concat(e))},p=n(0),O=function(e){var t=e.addReminder,n=e.nameChange,i=e.nameValue,r=e.timeChange,a=e.timeValue;return Object(p.jsxs)("form",{onSubmit:t,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"name-input",children:"Name:"}),Object(p.jsx)("input",{type:"text",id:"name-input",onChange:n,value:i})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"time-input",children:"At time:"}),Object(p.jsx)("input",{type:"datetime-local",id:"time-input",onChange:r,value:a})]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",children:"lis\xe4\xe4"})})]})},v=function(e){var t=e.reminder,n=e.deleter,i=new Date(t.timestamp).toLocaleString();return Object(p.jsxs)("div",{children:[i," ",t.name,Object(p.jsx)("button",{type:"button",onClick:n,children:"delete"})]})},x=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).nameChange=function(e){i.setState({newName:e.target.value})},i.timeChange=function(e){i.setState({newTime:e.target.value})},i.addReminder=function(e){e.preventDefault();var t={name:i.state.newName,timestamp:new Date(i.state.newTime).toISOString()};i.state.reminders.some((function(e){return e.name===i.state.newName}))?(alert("Reminder already exists"),i.setState({newName:""})):b(t).then((function(e){return i.setState({reminders:i.state.reminders.concat(e),newName:""})}))},i.deleteReminder=function(e){return function(){window.confirm("Delete?")&&f(e).then((function(){i.setState({reminders:i.state.reminders.filter((function(t){return t.id!==e}))})}))}},i.state={reminders:[],newName:"",newTime:(new Date).toISOString()},i}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;j().then((function(t){e.setState({reminders:t})}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Add reminder"}),Object(p.jsx)(O,{addReminder:this.addReminder,nameChange:this.nameChange,nameValue:this.state.newName,timeChange:this.timeChange,timeValue:this.state.newTime}),Object(p.jsx)("h2",{children:"Reminders:"}),this.state.reminders.map((function(t){return Object(p.jsx)(v,{reminder:t,deleter:e.deleteReminder(t.id)},t.id)}))]})}}]),n}(r.a.Component);c.a.render(Object(p.jsx)(x,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0b0057a8.chunk.js.map